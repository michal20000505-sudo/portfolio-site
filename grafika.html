<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Micha Jarosiski - Projekty Graficzne</title>
    <link rel="icon" type="image/png" href="strona-icon.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;500;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --bg-color: #050505;
            --text-color: #ffffff;
            --cyan: #00ffff;
            --magenta: #ff00ff;
            --yellow: #ffff00;
            --font-main: 'Space Grotesk', sans-serif;
            --transition: all 0.4s cubic-bezier(0.165, 0.84, 0.44, 1);
            --ease-out: cubic-bezier(0.23, 1, 0.32, 1);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        @media (hover: hover) and (pointer: fine) {
            * { cursor: none; }
        }

        body { 
            background-color: var(--bg-color); 
            color: var(--text-color); 
            font-family: var(--font-main); 
            overflow-x: hidden; 
            line-height: 1.6; 
            position: relative; 
        }

        a { text-decoration: none; color: inherit; }
        ul { list-style: none; }
        img { display: block; width: 100%; height: auto; }

        /* --- Scroll Progress Bar --- */
        #progress-bar {
            position: fixed; top: 0; left: 0; height: 3px;
            background: linear-gradient(90deg, var(--cyan), var(--magenta), var(--yellow));
            width: 0%; z-index: 10001; transition: width 0.1s;
        }

        /* --- Ambient Background Glows --- */
        .ambient-glow {
            position: fixed; width: 600px; height: 600px; border-radius: 50%;
            filter: blur(100px); opacity: 0.15; z-index: -2; pointer-events: none;
            animation: floatGlow 15s infinite alternate ease-in-out;
        }
        .glow-1 { top: -10%; left: -10%; background: var(--cyan); }
        .glow-2 { bottom: 10%; right: -10%; background: var(--magenta); animation-delay: -5s; }
        .glow-3 { top: 40%; left: 40%; width: 400px; height: 400px; background: var(--yellow); opacity: 0.08; animation-delay: -10s; }

        @keyframes floatGlow {
            0% { transform: translate(0, 0) scale(1); }
            50% { transform: translate(50px, 30px) scale(1.1); }
            100% { transform: translate(-30px, -50px) scale(0.9); }
        }

        #starfield { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; pointer-events: none; }
        
        /* --- Cursor --- */
        .cursor { 
            width: 20px; height: 20px; border: 2px solid var(--text-color); border-radius: 50%; 
            position: fixed; pointer-events: none; z-index: 9999; transform: translate(-50%, -50%); 
            transition: transform 0.1s ease, background-color 0.2s, width 0.3s, height 0.3s; mix-blend-mode: difference; 
            display: none; 
        }
        .cursor.hovered { transform: translate(-50%, -50%) scale(3); background-color: var(--text-color); border-color: transparent; opacity: 0.8; }
        
        @media (hover: hover) and (pointer: fine) {
            .cursor { display: block; }
        }

        #preloader { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: var(--bg-color); z-index: 10000; display: flex; justify-content: center; align-items: center; transition: opacity 0.5s ease; }
        .loader-text { font-size: 2rem; font-weight: 700; animation: pulseCMYK 1s infinite alternate; }
        @keyframes pulseCMYK { 0% { text-shadow: 2px 2px 0 var(--cyan); } 50% { text-shadow: -2px 2px 0 var(--magenta); } 100% { text-shadow: -2px -2px 0 var(--yellow); } }

        .container { max-width: 1400px; margin: 0 auto; padding: 0 40px; }

        /* --- Header --- */
        header { position: fixed; top: 0; width: 100%; padding: 30px 0; z-index: 100; mix-blend-mode: difference; transition: padding 0.3s; }
        header.scrolled { padding: 15px 0; background: rgba(5,5,5,0.8); backdrop-filter: blur(10px); mix-blend-mode: normal; border-bottom: 1px solid rgba(255,255,255,0.1); }

        nav { display: flex; justify-content: space-between; align-items: center; }
        .logo { font-weight: 700; font-size: 1.5rem; letter-spacing: -1px; z-index: 101; position: relative; } 
        .logo span { color: var(--cyan); }
        
        .nav-links { display: flex; gap: 50px; }
        .nav-links a { 
            font-size: 0.9rem; text-transform: uppercase; letter-spacing: 2px; position: relative; 
            transition: transform 0.3s var(--ease-out);
            display: inline-block;
        }
        .nav-links a::after { content: ''; position: absolute; bottom: -5px; left: 0; width: 0; height: 2px; background: var(--magenta); transition: var(--transition); }
        .nav-links a:hover::after { width: 100%; }
        .nav-links a.active { color: var(--cyan); }
        .nav-links a.active::after { width: 100%; background: var(--cyan); }
        .nav-links a:hover { color: var(--cyan); }

        .menu-toggle { display: none; flex-direction: column; gap: 6px; cursor: pointer; z-index: 101; }
        .bar { width: 30px; height: 2px; background-color: #fff; transition: 0.3s; }

        /* --- Page Hero --- */
        #page-hero { padding: 150px 0 50px; text-align: center; perspective: 1000px; }
        .page-title-container { display: inline-block; padding: 20px; transition: transform 0.4s var(--ease-out); }
        .page-title-container:hover { transform: scale(1.02); }
        
        .page-title { font-size: 8rem; line-height: 0.85; font-weight: 700; text-transform: uppercase; margin: 0; letter-spacing: -2px; }
        .title-visual { display: block; color: #ffffff; }

        .title-works {
            display: block; color: transparent; -webkit-text-stroke: 2px var(--magenta); position: relative;
            background: linear-gradient(110deg, transparent 30%, rgba(255, 255, 255, 0.9) 45%, rgba(255, 0, 255, 0.6) 50%, transparent 60%);
            background-size: 250% 100%; background-position: 100% 0; -webkit-background-clip: text; background-clip: text;
            text-shadow: none; transition: text-shadow 0.3s ease;
        }

        .title-works.shine-active {
            animation: shineText 1.2s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
            text-shadow: 0 0 30px rgba(255, 0, 255, 0.5);
        }
        @keyframes shineText { 0% { background-position: 100% 0; } 100% { background-position: -150% 0; } }

        .page-subtitle { 
            color: #888; font-size: 1.2rem; letter-spacing: 4px; text-transform: uppercase; margin-top: 40px; 
            opacity: 0; animation: fadeUp 1s 0.5s forwards var(--ease-out);
        }
        @keyframes fadeUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        /* --- Gallery --- */
        .gallery-section { padding-bottom: 80px; }
        .masonry-grid { column-count: 3; column-gap: 40px; }
        .masonry-item { break-inside: avoid; margin-bottom: 40px; position: relative; perspective: 1000px; }
        
        .reveal { 
            opacity: 0; transform: translateY(60px) scale(0.95); 
            transition: opacity 0.8s var(--ease-out), transform 0.8s var(--ease-out); 
        }
        .reveal.active { opacity: 1; transform: translateY(0) scale(1); }

        .work-card {
            display: block; position: relative; margin-bottom: 15px; border: 1px solid #222; overflow: hidden; 
            transition: transform 0.2s ease-out, border-color 0.4s, box-shadow 0.4s;
            transform-style: preserve-3d; border-radius: 4px;
        }
        .work-card::after {
            content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(135deg, rgba(0,255,255,0.2) 0%, rgba(255,0,255,0.2) 100%);
            opacity: 0; transition: opacity 0.4s; pointer-events: none; z-index: 1; mix-blend-mode: overlay;
        }
        
        .work-card:hover { 
            border-color: var(--cyan); 
            box-shadow: 0 20px 50px -20px rgba(0, 255, 255, 0.2); 
        }
        .work-card:hover::after { opacity: 1; }
        .work-card img { transition: transform 0.6s var(--ease-out); display: block; }
        .work-card:hover img { transform: scale(1.05); }

        .work-info { transform: translateZ(20px); }
        .work-info h3 { font-size: 1.4rem; font-weight: 500; margin-bottom: 5px; color: #fff; transition: color 0.3s; }
        .work-info h3:hover { color: var(--cyan); }
        .work-info .category { color: var(--magenta); font-size: 0.8rem; text-transform: uppercase; letter-spacing: 2px; font-weight: 700; display: inline-block; margin-bottom: 10px; }
        .work-info p { color: #888; font-size: 0.95rem; font-weight: 300; line-height: 1.4; }

        /* --- Lightbox --- */
        #lightbox {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background-color: rgba(0, 0, 0, 0.95); z-index: 10001; display: none; justify-content: center; align-items: center;
            opacity: 0; transition: opacity 0.3s ease; backdrop-filter: blur(10px); cursor: auto;
        }
        #lightbox.active { display: flex; opacity: 1; }
        #lightbox img {
            max-width: 90vw; max-height: 90vh; width: auto; height: auto; object-fit: contain;
            border: 2px solid #333; box-shadow: 0 0 50px rgba(0, 0, 0, 0.8);
            transform: scale(0.9); transition: transform 0.3s cubic-bezier(0.165, 0.84, 0.44, 1); cursor: default;
        }
        #lightbox.active img { transform: scale(1); }
        .lightbox-close {
            position: absolute; top: 30px; right: 40px; font-size: 3rem; color: var(--text-color);
            cursor: pointer; transition: color 0.3s; z-index: 10002;
        }
        .lightbox-close:hover { color: var(--magenta); transform: rotate(90deg); transition: all 0.3s; }

        /* --- Mobile --- */
        @media (max-width: 1024px) {
            .container { padding: 0 20px; }
            .masonry-grid { column-count: 2; column-gap: 20px; }
            .page-title { font-size: 13vw; }
            #page-hero { padding: 120px 0 30px; }

            .menu-toggle { display: flex; }
            .nav-links {
                position: fixed; top: 0; right: 0; height: 100vh; width: 70%; background: #0a0a0a; flex-direction: column; justify-content: center; align-items: center;
                transform: translateX(100%); transition: transform 0.4s ease-in-out; z-index: 99; border-left: 1px solid #222;
            }
            .nav-links.active { transform: translateX(0); }

            .menu-toggle.active .bar:nth-child(1) { transform: rotate(45deg) translate(6px, 6px); }
            .menu-toggle.active .bar:nth-child(2) { opacity: 0; }
            .menu-toggle.active .bar:nth-child(3) { transform: rotate(-45deg) translate(5px, -5px); }
            
            /* Disable tilt on mobile */
            .work-card, .page-title-container { transform: none !important; }
        }

        @media (max-width: 768px) {
            .masonry-grid { column-count: 1; }
            .masonry-item { margin-bottom: 50px; }
            .page-subtitle { font-size: 0.9rem; letter-spacing: 2px; }

            .lightbox-close { top: 20px; right: 20px; font-size: 2.5rem; padding: 10px; background: rgba(0,0,0,0.5); border-radius: 50%; width: 50px; height: 50px; display: flex; justify-content: center; align-items: center; line-height: 0; }
            #lightbox img { max-width: 95vw; }
        }
    </style>
</head>
<body>

    <div id="progress-bar"></div>
    <div class="ambient-glow glow-1"></div>
    <div class="ambient-glow glow-2"></div>
    <div class="ambient-glow glow-3"></div>

    <canvas id="starfield"></canvas>
    
    <div class="cursor"></div>
    
    <div id="preloader"><div class="loader-text">LOADING...</div></div>

    <div id="lightbox">
        <div class="lightbox-close">&times;</div>
        <img src="" alt="Peny podgld">
    </div>

    <header>
        <div class="container">
            <nav>
                <a href="index.html" class="logo link-hover">MJ<span>.</span></a>
                
                <div class="menu-toggle" id="mobile-menu">
                    <span class="bar"></span>
                    <span class="bar"></span>
                    <span class="bar"></span>
                </div>

                <div class="nav-links">
                    <a href="index.html#about" class="link-hover magnet">O mnie</a>
                    <a href="index.html#work" class="link-hover magnet">Web</a>
                    <a href="#" class="active link-hover magnet">Grafika</a>
                    <a href="index.html#contact" class="link-hover magnet">Kontakt</a>
                </div>
            </nav>
        </div>
    </header>

    <div id="page-hero">
        <div class="container">
            <div class="page-title-container link-hover">
                <h1 class="page-title">
                    <span class="title-visual">VISUAL</span>
                    <span class="title-works" id="worksText">WORKS</span>
                </h1>
            </div>

            <p class="page-subtitle reveal">Branding / Print / Art Direction</p>
        </div>
    </div>

    <section class="gallery-section">
        <div class="container">
            <div class="masonry-grid">
                <!-- 1. PLAKAT LIPALI -->
                <div class="masonry-item reveal">
                    <a href="#" class="work-card link-hover tilt-card">
                        <img src="Lipali-koncert-roboczy-PLAKAT-3.jpg" alt="Lipali Plakat Koncertowy">
                    </a>
                    <div class="work-info">
                        <span class="category">Poster Art</span>
                        <h3>Lipali Concert Tour</h3>
                        <p>Projekt plakatu promujcego tras koncertow. Minimalistyczna typografia poczona z fotografi zespou.</p>
                    </div>
                </div>
                <!-- 2. FOOD POINT -->
                <div class="masonry-item reveal">
                    <a href="#" class="work-card link-hover tilt-card">
                        <img src="Food-point-final-ciemne-tlo.jpg" alt="Food Point">
                    </a>
                    <div class="work-info">
                        <span class="category">Branding</span>
                        <h3>Food Point Neon</h3>
                        <p>Projekt identyfikacji wizualnej dla punktu gastronomicznego. Stylistyka neonowa na ciemnym tle.</p>
                    </div>
                </div>
                <!-- 3. GROM ART ULOTKA -->
                <div class="masonry-item reveal">
                    <a href="#" class="work-card link-hover tilt-card">
                        <img src="Grom-art-b5-front.jpg" alt="Grom Art Statuetka">
                    </a>
                    <div class="work-info">
                        <span class="category">Print & 3D</span>
                        <h3>Grom Art Operator</h3>
                        <p>Projekt ulotki z wizualizacj statuetki dla producenta.</p>
                    </div>
                </div>
                <!-- 4. DUNAJEWSKA ULOTKA -->
                <div class="masonry-item reveal">
                    <a href="#" class="work-card link-hover tilt-card">
                        <img src="dunajewska-ulotka.jpg" alt="Trener Personalny Ulotka">
                    </a>
                    <div class="work-info">
                        <span class="category">Print Design</span>
                        <h3>Personal Trainer Flyer</h3>
                        <p>Projekt ulotki promocyjnej dla trenerki personalnej. Nowoczesny layout z dynamiczn typografi.</p>
                    </div>
                </div>
                <!-- 5. KONTROLER -->
                <div class="masonry-item reveal">
                    <a href="#" class="work-card link-hover tilt-card">
                        <img src="digicamoblue-powder.jpg" alt="Custom PS4 Controller">
                    </a>
                    <div class="work-info">
                        <span class="category">Product Design</span>
                        <h3>Digicamo Blue</h3>
                        <p>Projekt graficzny customowego kontrolera oraz kompozycja reklamowa dla AIM Controllers.</p>
                    </div>
                </div>
                <!-- 6. DUNAJEWSKA VOUCHER -->
                <div class="masonry-item reveal">
                    <a href="#" class="work-card link-hover tilt-card">
                        <img src="Dunajewska-voucher.jpg" alt="Voucher Treningowy">
                    </a>
                    <div class="work-info">
                        <span class="category">Print Design</span>
                        <h3>Training Voucher</h3>
                        <p>Elegancki voucher podarunkowy na darmowy trening personalny.</p>
                    </div>
                </div>
                <!-- 7. WIZYTWKA SUDBAL -->
                <div class="masonry-item reveal">
                    <a href="#" class="work-card link-hover tilt-card">
                        <img src="Wizyt贸wka-9x5-sudbal.jpg" alt="Sudbal Garage">
                    </a>
                    <div class="work-info">
                        <span class="category">Branding</span>
                        <h3>Sudbal Garage</h3>
                        <p>Projekt wizyt贸wki dla serwisu detailingowego. Elegancka czer i chromowane wykoczenie logo.</p>
                    </div>
                </div>
                <!-- 8. WIZYTWKA TRENER -->
                <div class="masonry-item reveal">
                    <a href="#" class="work-card link-hover tilt-card">
                        <img src="Wizyt贸wka-9x5.jpg" alt="Wizyt贸wka Trenera">
                    </a>
                    <div class="work-info">
                        <span class="category">Branding</span>
                        <h3>Personal Trainer</h3>
                        <p>Identyfikacja wizualna trenera personalnego. Energetyczna ziele i mocny, sportowy kr贸j pisma.</p>
                    </div>
                </div>
                <!-- 9. GRZEGORZ PIRG WIZYTWKA -->
                <div class="masonry-item reveal">
                    <a href="#" class="work-card link-hover tilt-card">
                        <img src="Grzegorz-pirog-wizytowka.jpg" alt="Usugi Budowlane">
                    </a>
                    <div class="work-info">
                        <span class="category">Branding</span>
                        <h3>Construction Identity</h3>
                        <p>Wizyt贸wka dla firmy wykoczeniowej i budowlanej z technicznym motywem siatki projektowej i funkcjonaln miark wkomponowan w projekt.</p>
                    </div>
                </div>
                <!-- 10. WIZYTWKI GROM MOCKUP -->
                <div class="masonry-item reveal">
                    <a href="#" class="work-card link-hover tilt-card">
                        <img src="render2.jpg" alt="Grom Art Branding">
                    </a>
                    <div class="work-info">
                        <span class="category">Branding</span>
                        <h3>Grom Art Identity</h3>
                        <p>Kompleksowy branding dla firmy tworzcej statuetki militarne. Mockup wizyt贸wek premium.</p>
                    </div>
                </div>
                <!-- 11. WIZYTWKA SCHMIDT -->
                <div class="masonry-item reveal">
                    <a href="#" class="work-card link-hover tilt-card">
                        <img src="wizyt贸wka-max-bucz.jpg" alt="Schmidt Maszyny">
                    </a>
                    <div class="work-info">
                        <span class="category">Branding</span>
                        <h3>Schmidt Construction</h3>
                        <p>Projekt wizyt贸wki dla producenta maszyn. Czytelny ukad z wykorzystaniem ilustracji.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <script>
        // --- Preloader ---
        const preloader = document.getElementById('preloader');
        function hidePreloader() { 
            if(preloader.style.opacity!=='0'){
                preloader.style.opacity='0'; 
                setTimeout(()=>{preloader.style.display='none'},500);
            } 
        }
        window.addEventListener('load', ()=>{setTimeout(hidePreloader,500)});
        setTimeout(hidePreloader, 3000);

        // --- Header Scroll & Progress Bar ---
        const header = document.querySelector('header');
        const progressBar = document.getElementById('progress-bar');
        
        window.addEventListener('scroll', () => {
            if(window.scrollY > 50) header.classList.add('scrolled');
            else header.classList.remove('scrolled');

            const winScroll = document.body.scrollTop || document.documentElement.scrollTop;
            const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
            const scrolled = (winScroll / height) * 100;
            progressBar.style.width = scrolled + "%";
        });

        // --- Scroll Reveal ---
        const revealObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => { 
                if (entry.isIntersecting) entry.target.classList.add('active'); 
            });
        }, { threshold: 0.1 });
        document.querySelectorAll('.reveal').forEach(el => revealObserver.observe(el));

        // --- Starfield ---
        const canvas = document.getElementById('starfield');
        const ctx = canvas.getContext('2d');
        let width, height, stars = [];
        const mouse = { x: undefined, y: undefined };
        const colors = ['#00ffff', '#ff00ff', '#ffff00', '#ffffff', '#ffffff']; 

        function resize() { 
            width=window.innerWidth; height=window.innerHeight; canvas.width=width; canvas.height=height; initStars(); 
        }
        class Star {
            constructor() {
                this.x = Math.random() * width; this.y = Math.random() * height;
                this.size = Math.random() * 2;
                this.density = (Math.random() * 20) + 1;
                this.color = colors[Math.floor(Math.random() * colors.length)];
                this.vx = (Math.random() - 0.5) * 0.5; this.vy = (Math.random() - 0.5) * 0.5;
                this.opacity = Math.random(); this.twinkle = Math.random() * 0.02 + 0.005;
            }
            draw() { ctx.fillStyle=this.color; ctx.globalAlpha=this.opacity; ctx.beginPath(); ctx.arc(this.x,this.y,this.size,0,Math.PI*2); ctx.fill(); ctx.globalAlpha=1; }
            update() {
                this.x+=this.vx; this.y+=this.vy;
                if(this.x<0)this.x=width; if(this.x>width)this.x=0; if(this.y<0)this.y=height; if(this.y>height)this.y=0;
                if(mouse.x){
                    let dx=mouse.x-this.x, dy=mouse.y-this.y, dist=Math.sqrt(dx*dx+dy*dy);
                    if(dist<150){
                        let f=(150-dist)/150;
                        this.x-=(dx/dist)*f*this.density*2; this.y-=(dy/dist)*f*this.density*2;
                    }
                }
                this.opacity+=this.twinkle; if(this.opacity>1||this.opacity<0.2)this.twinkle=-this.twinkle;
            }
        }
        function initStars(){ stars=[]; for(let i=0;i<(width*height)/8000;i++) stars.push(new Star()); }
        function animateStars(){ ctx.clearRect(0,0,width,height); stars.forEach(s=>{s.draw();s.update()}); requestAnimationFrame(animateStars); }
        window.addEventListener('resize', resize);
        window.addEventListener('mousemove', e=>{mouse.x=e.x; mouse.y=e.y});

        // --- Menu ---
        const menuToggle = document.getElementById('mobile-menu');
        const navLinks = document.querySelector('.nav-links');
        menuToggle.addEventListener('click', () => {
            menuToggle.classList.toggle('active');
            navLinks.classList.toggle('active');
        });

        // --- Cursor & Effects ---
        const cursor=document.querySelector('.cursor');
        if(window.matchMedia("(pointer: fine)").matches) {
            document.addEventListener('mousemove', e=>{
                cursor.style.left=e.clientX+'px'; 
                cursor.style.top=e.clientY+'px';
            });
            document.querySelectorAll('.link-hover, a, .work-card').forEach(l=>{
                l.addEventListener('mouseenter',()=>cursor.classList.add('hovered'));
                l.addEventListener('mouseleave',()=>cursor.classList.remove('hovered'));
            });

            // Magnetic Buttons
            const magnets = document.querySelectorAll('.magnet');
            magnets.forEach((magnet) => {
                magnet.addEventListener('mousemove', (e) => {
                    const position = magnet.getBoundingClientRect();
                    const x = e.clientX - position.left - position.width / 2;
                    const y = e.clientY - position.top - position.height / 2;
                    magnet.style.transform = `translate(${x * 0.3}px, ${y * 0.3}px)`;
                });
                magnet.addEventListener('mouseleave', () => {
                    magnet.style.transform = 'translate(0px, 0px)';
                });
            });

            // 3D Tilt Cards (Delikatny)
            const tiltCards = document.querySelectorAll('.tilt-card');
            tiltCards.forEach(card => {
                card.addEventListener('mousemove', (e) => {
                    const rect = card.getBoundingClientRect();
                    const x = e.clientX - rect.left;
                    const y = e.clientY - rect.top;
                    const centerX = rect.width / 2;
                    const centerY = rect.height / 2;
                    
                    const rotateX = (y - centerY) / 50; 
                    const rotateY = (centerX - x) / 50;

                    card.style.transform = `perspective(1000px) rotateX(${rotateX}deg) rotateY(${rotateY}deg) scale3d(1.005, 1.005, 1.005)`;
                });
                card.addEventListener('mouseleave', () => {
                    card.style.transform = 'perspective(1000px) rotateX(0) rotateY(0) scale3d(1, 1, 1)';
                });
            });
        }

        // --- Shine Animation ---
        const worksText = document.getElementById('worksText');
        const titleContainer = document.querySelector('.page-title-container');
        let isAnimating = false;
        function triggerShine() {
            if (isAnimating) return; 
            isAnimating = true;
            worksText.classList.add('shine-active');
            worksText.addEventListener('animationend', () => {
                worksText.classList.remove('shine-active');
                isAnimating = false;
            }, { once: true }); 
        }
        if(titleContainer) titleContainer.addEventListener('mouseenter', triggerShine);
        setTimeout(() => { triggerShine(); }, 3000);

        // --- Lightbox ---
        const lightbox = document.getElementById('lightbox');
        const lightboxImg = lightbox.querySelector('img');
        const closeBtn = lightbox.querySelector('.lightbox-close');

        document.querySelectorAll('.work-card').forEach(card => {
            card.addEventListener('click', function(e) {
                e.preventDefault(); 
                const img = this.querySelector('img');
                if (img) {
                    lightboxImg.src = img.src;
                    lightbox.classList.add('active');
                    document.body.style.overflow = 'hidden';
                }
            });
        });
        function closeLightbox() {
            lightbox.classList.remove('active');
            document.body.style.overflow = ''; 
            setTimeout(() => { lightboxImg.src = ''; }, 300);
        }
        closeBtn.addEventListener('click', closeLightbox);
        lightbox.addEventListener('click', function(e) {
            if (e.target === lightbox) closeLightbox();
        });
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && lightbox.classList.contains('active')) closeLightbox();
        });

        // --- Tab Change Title ---
        const normalTitle = "Micha Jarosiski - Projekty Graficzne";
        const awayTitle   = " Wr贸 do moich projekt贸w!";

        document.addEventListener("visibilitychange", () => {
            if (document.hidden) document.title = awayTitle;
            else document.title = normalTitle;
        });

        resize(); animateStars();
    </script>
</body>
</html>
